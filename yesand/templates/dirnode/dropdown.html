{% load bootstrap_icons %}
<div class="dropdown" style="z-index: 1050">
    <button class="btn btn-link btn-sm text-dark p-0"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false">{% bs_icon 'chevron-down' %}</button>
    <ul class="dropdown-menu">
        <!-- Add new items section -->
        <li>
            <a class="dropdown-item"
               href="#"
               hx-get="{% url 'modal_no_node' node_type='dirnode' action='add' %}"
               hx-target="#modal-content"
               hx-vals='{"parent_id": "{{ node_id }}"}'
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'folder-plus' extra_classes='me-2' %}
                Add directory
            </a>
        </li>
        <li>
            <a class="dropdown-item"
               href="#"
               hx-get="{% url 'modal_no_node' node_type='prompt' action='add' %}"
               hx-target="#modal-content"
               hx-vals='{"parent_id": "{{ node_id }}"}'
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'chat-dots' extra_classes='me-2' %}
                Add prompt
            </a>
        </li>
        <li>
            <a class="dropdown-item"
               href="#"
               hx-get="{% url 'modal_no_node' node_type='aimodel' action='add' %}"
               hx-target="#modal-content"
               hx-vals='{"parent_id": "{{ node_id }}"}'
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'robot' extra_classes='me-2' %}
                Add AI model
            </a>
        </li>
        <li>
            <hr class="dropdown-divider">
        </li>
        <!-- Directory operations section -->
        <li>
            <a class="dropdown-item"
               href="#"
               hx-get="{% url 'modal_with_node' node_type='dirnode' action='rename' node_id=node_id %}"
               hx-target="#modal-content"
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'pencil' extra_classes='me-2' %}
                Rename
            </a>
        </li>
        <li>
            <a class="dropdown-item"
               href="#"
               hx-get="{% url 'modal_with_node' node_type='dirnode' action='move' node_id=node_id %}"
               hx-target="#modal-content"
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'arrows-move' extra_classes='me-2' %}
                Move
            </a>
        </li>
        <li>
            <a class="dropdown-item"
               href="#"
               hx-get="{% url 'modal_with_node' node_type='dirnode' action='copy' node_id=node_id %}"
               hx-target="#modal-content"
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'files' extra_classes='me-2' %}
                Copy
            </a>
        </li>
        <li>
            <a class="dropdown-item text-danger"
               href="#"
               hx-get="{% url 'modal_with_node' node_type='dirnode' action='delete' node_id=node_id %}"
               hx-target="#modal-content"
               data-bs-toggle="modal"
               data-bs-target="#itemModal">
                {% bs_icon 'trash' extra_classes='me-2' %}
                Delete
            </a>
        </li>
    </ul>
</div>
